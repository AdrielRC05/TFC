<div class="rally-list">
  <h2>Subidas del Campeonato: {{ campeonato?.nombre }}</h2>

  <!-- Caja de búsqueda -->
  <div class="input-group mb-3" style="max-width: 300px; margin: 20px auto;">
    <input 
      type="text" 
      class="form-control" 
      placeholder="Buscar por nombre" 
      [(ngModel)]="busqueda"
      (input)="filtrarRallys()"/>
  </div>

  <!-- Mostrar el mensaje cuando no hay resultados -->
  <div *ngIf="rallysFiltrados.length === 0" class="alert alert-info">
    No se han encontrado resultados
  </div>

  <!-- Mostrar los rallys filtrados -->
  <div *ngFor="let rally of rallysFiltrados" class="rally-card">
    <h3>{{ rally.nombre }}</h3>
    <p><strong>Fecha:</strong> {{ rally.fechaCelebracion }}</p>
    <p><strong>Localización:</strong> {{ rally.localizacion }}</p>
    <button
      class="btn btn-primary"
      [routerLink]="['/pilotos', rally.id, 'rallys']">
      Ver Pilotos
    </button>
    <div
      class="map"
      leaflet
      [leafletOptions]="getMapaOptions(subida.rutas[0]?.puntos)"
      style="height: 300px; margin: 20px 0;">
    </div>
  </div>
</div>