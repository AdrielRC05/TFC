<html>
<body>
    <!-- Hero Section -->
    <section class="hero-section text-center">
        <div class="container">
            <h1 class="display-3 fw-bold mb-4">Campeonato Galego de Montaña</h1>
            <p class="lead">La máxima competición de automovilismo en montaña de Galicia desde 1984</p>
        </div>
    </section>

    <!-- Historia -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2 class="gradient-text fw-bold mb-4">Una historia de pasión por el motor</h2>
                    <p class="lead">El Campeonato Gallego de Montaña nació en 1984 como parte del Circuito Gallego de Montaña, organizado por la Federación Gallega de Automovilismo (FGA).</p>
                    <p>En sus más de 35 ediciones, ha visto competir a pilotos legendarios y ha consolidado subidas emblemáticas que forman parte de la cultura automovilística gallega.</p>
                </div>
                <div class="col-lg-6">
                    <div class="history-card bg-white p-4 shadow-sm">
                        <h3><i class="fas fa-trophy text-danger me-2"></i>Datos históricos</h3>
                        <ul class="list-unstyled">
                            <li class="mb-2"><strong>Primera edición:</strong> 1984</li>
                            <li class="mb-2"><strong>Récord de participantes:</strong> 100 pilotos (San Amaro, 2002)</li>
                            <li class="mb-2"><strong>Subida más antigua:</strong> Chantada (desde 1969)</li>
                            <li><strong>Piloto con más títulos:</strong> Manuel Senra Caamaño (5)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Subidas emblemáticas -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5 gradient-text fw-bold">Subidas emblemáticas</h2>
        
            <div class="row g-4">
                <div class="col-md-4" *ngFor="let subida of top3Subidas">
                    <div class="track-card h-100 shadow-sm rounded overflow-hidden text-center">
                        <div class="p-3">
                            <h3>{{ subida.nombre }}</h3>
                            <p>Veces celebrada: {{ subida.repeticiones }}</p>
                        </div>
                    </div>
                </div>
            </div>
        
            <!-- Botón centrado -->
            <div class="text-center mt-4">
                <a routerLink="/subidas" class="btn btn-primary btn-lg px-4">Ver todas las subidas</a>
            </div>
        </div>
    </section>

    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5 gradient-text fw-bold">Pilotos destacados</h2>

            <!-- Lista de pilotos -->
            <div class="row g-4">
                <div class="col-md-3" *ngFor="let piloto of topPilotos">
                    <div class="track-card h-100 shadow-sm rounded overflow-hidden text-center">
                        <div class="p-3">
                            <h3>{{ piloto.nombre }}</h3>
                            <p><strong>{{ piloto.titulos }}</strong> títulos ganados</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Botón centrado -->
            <div class="text-center mt-4">
                <a routerLink="/participantes" class="btn btn-primary btn-lg px-4">Ver todos los pilotos</a>
            </div>
        </div>
    </section>

    <!-- Ediciones recientes -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5 gradient-text fw-bold">Ediciones recientes</h2>
        
            <div class="row g-4">
                <!-- Card por edición -->
                <div class="col-md-4" *ngFor="let edicion of top3Ediciones">
                <div class="track-card h-100 shadow-sm rounded overflow-hidden text-center">
                    <div class="p-3">
                    <h3>{{ edicion.lugar }}</h3>
                    <p>Año: {{ edicion.ano }}</p>
                    <a [routerLink]="['/ediciones', edicion.id, 'subidas']" class="btn btn-primary btn-sm mt-2">
                        Ver edición completa
                    </a>
                    </div>
                </div>
                </div>
            </div>

            <div class="text-center mt-4">
                <a routerLink="/ediciones" class="btn btn-primary btn-lg px-4">Ver todas las ediciones</a>
            </div>
        </div>
    </section>

    <!-- Calendario -->
    <section class="py-5" id="calendario">
        <div class="container">
        <h2 class="text-center mb-5 gradient-text fw-bold">Calendario 2025</h2>
    
        <!-- Tabla con ancho controlado -->
        <div class="table-responsive d-flex justify-content-center">
            <div class="table-wrapper" style="max-width: 800px; width: 100%;">
            <table class="table table-hover">
                <thead class="table-dark">
                <tr>
                    <th>Fecha</th>
                    <th>Prueba</th>
                </tr>
                </thead>
                <tbody>
                <!-- Mostrar solo 3 primeras subidas -->
                <tr *ngFor="let evento of eventosCalendario | slice:0:3">
                    <td>{{ evento.fecha_inicio | date:'dd/MM' }}</td>
                    <td>{{ evento.nombre }}</td>
                </tr>
    
                <!-- Resto oculto hasta hacer click -->
                <tr *ngFor="let evento of eventosCalendario; let i = index" [hidden]="i < 3 || !mostrarTodas">
                    <td>{{ evento.fecha_inicio | date:'dd/MM' }}</td>
                    <td>{{ evento.nombre }}</td>
                </tr>
                </tbody>
            </table>
            </div>
        </div>
    
        <!-- Botón dinámico - Expandir o contraer -->
        <div class="text-center mt-4">
            <button *ngIf="eventosCalendario.length > 3 && !mostrarTodas"
                    (click)="mostrarTodas = true"
                    class="btn btn-outline-primary">
            Ver calendario completo
            </button>
    
            <button *ngIf="mostrarTodas"
                    (click)="mostrarTodas = false"
                    class="btn btn-outline-secondary">
            Mostrar menos
            </button>
        </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                </div>
            </div>
        </div>
    </footer>
</body>
</html>